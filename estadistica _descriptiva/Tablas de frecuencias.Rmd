---
title: "Datos cualitativos"
output: html_document
---

### Tablas de frecuencia unidimensionales

Supongamos que tenemos los datos asociados a un par de variables cualitativas en un vector

```{r}
x = sample(1:10, size = 20, replace = TRUE)
x # estas pueden ser bolitas numeradas que sacamos al azar de una caja

resp = factor(sample(c("Si","No"), size = 12, replace = TRUE))
resp
```
Podemos obtener la tabla de frecuencias asbsolutas con la función `table()`

```{r}
table(x)
table(resp)
```

Para obtener los nombres de las columnas podemos emplear la funcion `names`

```{r}
names(table(x))
names(table(resp))
```

Si queremos agregar mas niveles a la tabla, hay que transformar el vector en un factor con los niveles que deseamos.

```{r}
z = factor(x, levels = 1:15)

table(z)
```

Para referirnos a una entrada de una tabla unidimensional, podemos usar su nombre o posición.

```{r}
# tercera columna de la tabla
table(x)[3]
# columna de la tabla con nombre 2
table(x)["2"]
#El doble de la columna con nombre 3
2*table(x)["3"] 
```

Ademas podemos emplear la mayoria de funciones que se utilizan frecuentemente con vectores

```{r}
sum(table(x))
sqrt(3*table(x))
length(table(x))
```

### Frecuencias relativas
$$f_i = \frac{n_i}{n}$$
La tabla de frecuencias relativas de un vector se puede calcular aplicando la función `prop.table()` a su `table`. El resultado vuelve a ser una tabla de contingencia unidimensional.

También podemos calcualar la tabla de frecuencias relativas por definición, dividiendo el resultado de la `table` por el número de observaciones.

```{r}
x = sample(1:10, size = 20, replace = TRUE)
prop.table(table(x))
```
Podemos preguntar cuales son los niveles que tienen cierta frecuencia $n$ mediante `names(which(table(x)==n))`

```{r}
x = sample(1:15, size = 30, replace = TRUE)
table(x)
names(which(table(x) == 1))
```

En particular, `names(which(table(x)==max(table(x))))` nos da los niveles de frecuencia máxima, es decir, su *moda*

```{r}
x = sample(1:10, size = 20, replace = TRUE)
table(x)
names(which(table(x)==max(table(x))))

```

Otro ejemplo:

```{r}
m = rep("M",45)
f = rep("F",54)
genders  = c(m,f)
#tabla de frecuencias
table(genders)
#tabla de frecuencias relativas
prop.table(table(genders))
# moda
mode = function(d){
  
  names(which(table(genders)==max(table(genders))))
}

m_t = mode(genders)


```

La moda de los datos es: `r m_t`.


